<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Day 12 - 2. JavaScript 테스트</title>
        <link rel="stylesheet" href="./css/day_12_02_style.css" />
    </head>
    <body>
        <div id="text" class="hidden"></div>
        <button id="button" onclick="getTextFile()">텍스트 파일 불러오기</button>
        <script>
            function getTextFile() {
                var input = document.createElement("input");
                input.type = "file";
                input.accept = "text/plain";
                input.onchange = function (event) {
                    processFile(event.target.files[0]);
                }
                input.click();
            }

            function processFile(file) {
                var reader = new FileReader();
                reader.readAsText(file, "utf-8");

                reader.onload = function () {
                    document.getElementById("text").innerText = reader.result;
                };
            }
        </script>
    </body>
</html>

<!--
    📌 Javascript 로 텍스트 파일 불러오기 
        1️⃣ 불러올 txt 파일을 미리 만들어주세요.
            아래와 같이 메모장에서 글을 작성하고 저장하면 txt 확장자로 파일이 만들어진다.
        
        2️⃣ html 코드를 작성해주세요. (해석은 조금 있다가~)
        
        3️⃣ html 파일을 실행해보세요!
            텍스트 파일 불러오기라는 버튼을 누르면파일을 불러올 수 있는 창이 뜬다.
            1에서 만들었던 txt 파일을 선택하고 열기를 눌러 준다.
            그럼 위와 같이 메모장에 적어놓았던 텍스트가 표시된다.

        ​자, 그럼 이게 어떻게 가능한지 코드를 풀어 본다.

        ⭐ 코드 해석
            1️⃣ 버튼을 누르면 getTextFile 이라는 함수가 실행된다.

            2️⃣ 13번 줄에서는 <input> 태그 요소 하나를 만들고, 
                해당 요소의 이름을 input이라고 붙인다.
                (변수 이름 짓는 것처럼)

            3️⃣ 14~15번 줄에서는 input 태그의 속성을 정해 준다.​
                이렇게 만들어 주면 <input type="file" accept="text/plain" /> 이라는 html 코드와 같아진다.

            4️⃣ 16~18번 코드는 input 태그가 변화했을 때 
                (즉, 파일 열기 버튼을 눌러서 파일이 추가되었을 때)
                processFile이라는 함수가 실행되고, 
                processFile 함수의 인자(file)로 파일을 넘겨 준다.

            5️⃣ processFile 함수에서는 넘겨받은 file을 읽어서 표시한다.
                23~24 번 줄에서는 파일을 읽을 수 있는 reader 라는 걸 만들고, 
                한글을 읽기 위해 utf-8 형식을 적용한다.

            6️⃣ 가장 핵심이 되는 부분이 26~28 번 줄입니다.
                reader가 파일을 읽으면 function() { .... } 중괄호 안의 부분이 실행된다.

            7️⃣ document.getElementById("text") 를 통해 
                text라는 id 를 가진 요소를 찾아 ~.innerText = reader.result 코드로
                해당 요소의 innerText , 즉 텍스트를 reader가 읽은 결과 텍스트로 대체한다.

    이렇게 javascript를 활용할 수 있는 2가지 방법 정도를 알아보았다.
    javascript를 활용하면 사용자의 인터렉션 등에 따라 다양한 동적인 페이지를 만들 수 있다.
-->

<!--
    ⭐ 정리하기 ⭐
✔ javascript로 동적인 html을 만들 수 있다.

✔ script 태그는 body 태그의 최하단에 적는 게 좋다.
-->
